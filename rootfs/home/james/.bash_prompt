#!/usr/bin/env bash

prompt_main() {

  # Make our output a little easier on the eyes with some colors.
  local c_gray='\[\e[01;30m\]'
  local c_blue='\[\e[0;34m\]'
  local c_cyan='\[\e[0;36m\]'
  local c_reset='\[\e[0m\]'

  # In the beginning, everything was gray.
  PS1="${c_gray}"

  # Output the user, and hostname if we are connected over SSH.
  if [[ -n "$SSH_CLIENT" ]] || [[ -n "$SSH_TTY" ]]; then
    PS1+="[${c_blue}\u@\h${c_gray}]"
  fi

  # Output the name of the current directory.
  PS1+="[${c_blue}\w${c_gray}]"

  # Output the branch name if we are inside a git repository.
  if [[ -n "$(__git_ps1)" ]]; then
    PS1+="[${c_cyan}$(__git_ps1 "%s")${c_gray}]"
  fi

  # Reset colors to prevent text overflow.
  PS1+=" ${c_reset}"

}

# Call our main function.
PROMPT_COMMAND='prompt_main'
