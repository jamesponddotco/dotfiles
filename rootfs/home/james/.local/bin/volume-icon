#!/usr/bin/env bash

volume="$(pactl get-sink-volume @DEFAULT_SINK@ \
  | awk '{ sub("%", "", $5); printf $5 }')"
icon_path="${HOME}/.local/share/icons/Adwaita/"

if [[ "${volume}" -eq 0 ]]; then
  icon='audio-volume-muted-symbolic.svg'
elif [[ "${volume}" -lt 33 ]]; then
  icon='audio-volume-low-symbolic.svg'
elif [[ "${volume}" -lt 66 ]]; then 
  icon='audio-volume-medium-symbolic.svg'
elif [[ "${volume}" -lt 101 ]]; then
  icon='audio-volume-high-symbolic.svg'
else
  icon='audio-volume-overamplified-symbolic.svg'
fi

printf '%s\n%s%%' "${icon_path}${icon}" "${volume}"

# All was well.
exit 0
